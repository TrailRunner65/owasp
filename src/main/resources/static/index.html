<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
	<link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" rel="stylesheet">
	<title>OWASP Sanitizer Test</title>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
<script crossorigin="anonymous" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<div class="container">
	<div class="row">
		<h1>OWASP Sanitizer tester</h1>
	</div>
	<form action="sanitize" id="sanitizeForm" method="post">
		<div class="row">
			<div class="form-check">
				<input checked class="form-check-input" id="exampleRadios1" name="exampleRadios" type="radio" value="">
				<label class="form-check-label" for="exampleRadios1">None</label>
			</div>
			<div class="form-check">
				<input class="form-check-input" id="exampleRadios2" name="exampleRadios" type="radio" value="LINKS">
				<label class="form-check-label" for="exampleRadios2">Links</label>
			</div>
			<div class="form-check">
				<input class="form-check-input" id="exampleRadios3" name="exampleRadios" type="radio" value="STYLES">
				<label class="form-check-label" for="exampleRadios3">Styles</label>
			</div>
		</div>
		<div class="row">
			<div class="form-group">
				<label for="src">Source text:</label>
				<textarea class="form-control" id="src" name="src" rows="20"></textarea>
			</div>
		</div>
		<div class="row">
			<button class="btn btn-primary" type="submit">Sanitize</button>
		</div>
	</form>
</div>
<div class="row">
	<div class="form-group" id="showresults">
		<label for="src">Sanitized result:</label>
		<textarea class="form-control" id="result" name="result" rows="20"></textarea>
	</div>
</div>
</body>
<script>
      $('#sanitizeForm').submit(function(event) {
      	event.preventDefault();
      	$.ajax({
      		type : 'POST',
      		url  : 'sanitize',
      		data : $('#sanitizeForm').serialize()
      	}).done(function(data) {
      		$("#result").val(data.response);
      	}).fail(function(data) {
      		console.log("Fail: " + data);
      	});
      });
   </script>
</html>